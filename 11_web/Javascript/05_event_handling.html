<!-- 05_event_handling.html -->
<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="UTF-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1.0" />
        <title>Document</title>
        <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-QWTKZyjpPEjISv5WaRU9OFeRpok6YctnYmDr5pNlyT2bRjXh0JMhjY6hW+ALEwIH" crossorigin="anonymous">
        <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js" integrity="sha384-YvpcrYf0tY3lHB60NNkmXc5s9fDVZLESaAA55NDzOxhy9GkcIdslK1eN7N6jIeHz" crossorigin="anonymous"></script>
    </head>
    <style>
        /*#layer : id가 layer인 element에 style을 지정.*/
        #layer {
            width: 300px; /*width: 너비, height: 길이*/
            height: 300px;
            background-color: blue;
        }
    </style>
    <!--
    padding: p[위치]-크기   
    margin:  m[위치]-크기
    위치: 생략 - 4방, t: 위, b: 아래, s: 왼쪽, e: 오른쪽
    크기: 1 ~ 5
    -->
    <body class="container mt-3">

        <div id="layer" 
            onmouseover='console.log("마우스 IN");console.log("입력");' 
            onmouseout='console.log("마우스out")' 
            onclick='alert("클릭")'
            class="pt-5 ps-2 mb-3"
        >
        안녕하세요.
        </div>


        <!--input type=text: 한줄 입력폼., blur event: 포커스를 잃었을때-->
        <input type="text" name="txt" onblur="check(this);" />

        <!--form: 입력양식 -> 입력 폼들을 묶어주는 역할.-->
        <form action="/test" method="post" id="form"
              onsubmit="return checkForm2()">
            이름: <input type="text" name="name" id="name" class="form-control"/>
            나이: <input type="text" name="age" id="age" class="form-control"/>
            <!--input type=button: 버튼 모양-->
            <input type="button" value="등록 버튼" onclick="checkForm()" class="btn btn-primary"/>
            <!--input type=submit: 입력 전송 버튼.-->
            <input type="submit" value="등록 폼 Submit 버튼" class="btn btn-success"/>
        </form>

        <script>
            function checkForm() {
                nameTF = document.getElementById("name");
                ageTF = document.getElementById("age");
                name = nameTF.value;
                age = ageTF.value;

                if (!name) {
                    alert("이름을 입력하세요");
                    nameTF.focus();
                    return;
                } else {
                    if (name.length > 5) {
                        alert("이름은 5글자까지 가능합니다.");
                        nameTF.value = "";
                        nameTF.focus();
                        return;
                    }
                }
                if (!age) {
                    alert("나이를 입력하세요");
                    ageTF.focus();
                    return;
                } else {
                    ageNum = parseInt(age);
                    if (!ageNum) {
                        alert("나이는 숫자만 가능합니다.");
                        ageTF.value = "";
                        ageTF.focus();
                        return;
                    }
                }

                form = document.getElementById("form");
                form.submit();
            }

            function checkForm2() {
                // 입력받은 이름/나이 조회
                nameTF = document.getElementById("name");
                ageTF = document.getElementById("age");
                name = nameTF.value;
                age = ageTF.value;
                // 이름이 입력 안되었으면 (if string : 빈문자열-false)
                if (!name) {
                    alert("이름을 입력하세요");
                    nameTF.focus();
                    return false;
                } else {
                    if (name.length > 5) {  // string.length: 글자수
                        alert("이름은 5글자까지 가능합니다.");
                        nameTF.value = "";
                        nameTF.focus();
                        return false;
                    }
                }
                if (!age) {
                    alert("나이를 입력하세요");
                    ageTF.focus();
                    return false;
                } else {
                    ageNum = parseInt(age);
                    if (!ageNum) {
                        alert("나이는 숫자만 가능합니다.");
                        ageTF.value = "";
                        ageTF.focus();
                        return false;
                    }
                }
            }
            function check(text_input) {
                alert(text_input.value);
                text_input.value = "";
            }

            function mouseMove(event) {
                console.log(event);
            }
        </script>
    </body>
</html>
