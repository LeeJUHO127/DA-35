<!-- form3.html -->
<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="UTF-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1.0" />
        <title>Document</title>

        <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet" />
        <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"></script>
    </head>
    <body>
        <div class="container mt-2">
            <form name="f1" action="/add" onsubmit="return checkSel()">
                <input type="submit" value="전송" class="btn btn-primary mb-2" /><br />
                <!-- change event: select의 선택이 변경되었을때 발생.-->
                <select name="phone" onchange="get_item()" class="form-select">
                    <option value="default">번호선택</option>
                    <option>010</option>
                    <option>011</option>
                    <option>016</option>
                    <option>019</option>
                </select>
            </form>
            <span id="result"></span>
        </div>
        <script>
            function get_item() {
                //select 값을 조회해서 span#result 에 출력
                // 선택된 option의 index 조회
                let sel = document.f1.phone;
                let idx = sel.selectedIndex;
                // option들에서 idx번째 option 조회.
                let optionList = sel.options; // <option> 들을 배열로 반환.
                let selOption = optionList[idx]; // 선택된 option객체 조회.
                let txt = `${selOption.value} - ${selOption.text}`;
                let span = document.getElementById('result');
                span.innerText = txt
            }

            function checkSel() {
                //번호가 선택되면 전송, "번호선택"이 선택되면 전송 중단.
                let sel = document.f1.phone; // <select> 조회
                let selectedIndex = sel.selectedIndex; // 선택된 option의 index(순번)
                // console.log(selectedIndex)
                if (selectedIndex === 0) {
                    alert("번호를 선택하세요.");
                    return false; // submit 을 중단.
                }
            }
        </script>
    </body>
</html>
